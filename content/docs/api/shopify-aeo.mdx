---
title: "Shopify AEO"
description: "Answer Engine Optimization for Shopify content"
---

# Shopify AEO

Answer Engine Optimization for Shopify content

## Analyze Shopify resource(s) for AEO

<MethodBadge method="POST" path="/shopify/aeo/analyze" />

Analyzes one or more Shopify resources (product, collection, page, or blog post) and returns
AEO scores with actionable suggestions. Converts resources to semantic HTML
and delegates to the core AEO analyzer.

**Single resource mode** (application/json): Provide a single JSON object with resource_type and resource_id.
Returns an array with one AnalysisReport.

**Bulk mode** (application/x-ndjson): Provide newline-delimited JSON with one resource per line.
Each line should be a JSON object with resource_type and resource_id.
Returns an array of AnalysisReport objects (one per input resource).

Example NDJSON:
```
{"resource_type":"product","resource_id":"123"}
{"resource_type":"product","resource_id":"456"}
```

**v1 Limitation**: Only supports resourceType='product'. Other resource types will
return a 400 Bad Request error.

Authentication: Requires Shopify session token via Authorization header.
The shop domain is extracted from the session token's 'dest' claim.


**Authentication required:** shopifySessionToken

### Request Body

**Example:**

```json
{
    "resource_type": "product",
    "resource_id": "123456789"
}
```

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X POST "https://searchaf.antfly.io/api/v1/shopify/aeo/analyze" \\\\
    -H "Authorization: Bearer YOUR_API_KEY" \\\\
    -H "Content-Type: application/json" \\\\
    -d '{
    "resource_type": "product",
    "resource_id": "123456789"
}'`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/analyze', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "resource_type": "product",
        "resource_id": "123456789"
    })
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/analyze', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "resource_type": "product",
        "resource_id": "123456789"
    })
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.post(
    'https://searchaf.antfly.io/api/v1/shopify/aeo/analyze',
    headers=headers,
    json={
        "resource_type": "product",
        "resource_id": "123456789"
    }
)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    body := []byte(\`{
    "resource_type": "product",
    "resource_id": "123456789"
}\`)
    req, _ := http.NewRequest("POST", "https://searchaf.antfly.io/api/v1/shopify/aeo/analyze", bytes.NewBuffer(body))
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Resource(s) analyzed successfully",
    body: `[
    {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "score": {
            "value": 75,
            "grade": "excellent"
        },
        "summary": {
            "total_issues": 0,
            "critical_count": 0,
            "warning_count": 0,
            "info_count": 0
        },
        "suggestions": [
            {
                "id": "STR-001",
                "category": "structure",
                "priority": "critical",
                "title": "Missing H1 Heading",
                "description": "Add a clear H1 heading that describes the main topic of the page.",
                "example": "string",
                "impact": "high"
            }
        ],
        "metadata": {
            "source": "string",
            "content_type": "html",
            "analyzed_at": "2025-10-02T15:30:00Z",
            "processing_time": 0,
            "content_length": 0,
            "additional_fields": {}
        },
        "created_at": "2025-10-02T15:30:00Z",
        "eeat": {
            "experience": {
                "score": 0,
                "signals": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            },
            "expertise": {
                "score": 0,
                "author_info": true,
                "credentials": [
                    "string"
                ],
                "expert_quotes": 0,
                "missing": [
                    "string"
                ]
            },
            "authoritativeness": {
                "score": 0,
                "citations": 0,
                "external_links": 0,
                "source_quality": "high",
                "missing": [
                    "string"
                ]
            },
            "trustworthiness": {
                "score": 0,
                "contact_info": true,
                "about_page": true,
                "transparency_signals": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            },
            "overall_score": 0
        },
        "conversational_query": {
            "score": 0,
            "question_answer_pairs": [
                {
                    "question": "string",
                    "answer": "string",
                    "quality": "high"
                }
            ],
            "faq_detected": true,
            "natural_language_optimization": {
                "score": 0,
                "conversational_tone": true,
                "direct_answers": 0,
                "improvements": [
                    "string"
                ]
            },
            "voice_search_readiness": {
                "score": 0,
                "featured_snippet_potential": true,
                "concise_answers": 0,
                "improvements": [
                    "string"
                ]
            },
            "missing_questions": [
                "string"
            ]
        },
        "semantic_richness": {
            "score": 0,
            "topical_authority": {
                "score": 0,
                "main_topics": [
                    "string"
                ],
                "subtopic_coverage": [
                    "string"
                ],
                "depth": "comprehensive",
                "improvements": [
                    "string"
                ]
            },
            "semantic_keywords": {
                "score": 0,
                "primary_keywords": [
                    "string"
                ],
                "related_terms": [
                    "string"
                ],
                "semantic_gaps": [
                    "string"
                ]
            },
            "content_depth": {
                "score": 0,
                "word_count": 0,
                "reading_level": "Graduate",
                "technical_depth": "expert",
                "improvements": [
                    "string"
                ]
            },
            "entity_coverage": {
                "score": 0,
                "entities": [
                    "string"
                ],
                "relationships": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            }
        },
        "comparisons": [
            {
                "id": "550e8400-e29b-41d4-a716-446655440000",
                "name": "Competitor Inc",
                "source": "string",
                "score": {
                    "value": 75,
                    "grade": "excellent"
                },
                "insights": {
                    "strength_areas": [
                        "Well-structured content with clear headings",
                        "Comprehensive FAQ section"
                    ],
                    "weak_areas": [
                        "Title is too generic",
                        "Missing structured data"
                    ],
                    "opportunities": [
                        {
                            "title": "Add Schema.org markup",
                            "description": "Quick win to improve AI comprehension",
                            "impact": "high",
                            "effort": "easy",
                            "priority": 1
                        }
                    ],
                    "summary": "Competitor has strong content structure but lacks technical SEO elements"
                }
            }
        ]
    }
]`
  },
  {
    statusCode: "400",
    description: "Bad request (invalid resource_type, unsupported in v1, or missing fields)",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "404",
    description: "Resource not found",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  }
]} />


---

## Get AEO analysis history

<MethodBadge method="GET" path="/shopify/aeo/analyze" />

Retrieves all AEO analyses for the authenticated shop's resources.
Returns historical analysis reports ordered by most recent first.

Authentication: Requires Shopify session token via Authorization header.
The shop domain is extracted from the session token's 'dest' claim.


**Authentication required:** shopifySessionToken

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `resource_type` | string (product, collection, page, blog_post) | query | No | Filter by resource type (optional) |
| `resource_id` | string | query | No | Filter by specific resource ID (optional) |
| `limit` | integer | query | No | Maximum number of results to return |
| `offset` | integer | query | No | Number of results to skip for pagination |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/shopify/aeo/analyze?resource_type=value&resource_id=value&limit=value&offset=value" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/analyze?resource_type=value&resource_id=value&limit=value&offset=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/analyze?resource_type=value&resource_id=value&limit=value&offset=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/shopify/aeo/analyze?resource_type=value&resource_id=value&limit=value&offset=value', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/shopify/aeo/analyze?resource_type=value&resource_id=value&limit=value&offset=value", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Analysis history retrieved successfully",
    body: `[
    {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "score": {
            "value": 75,
            "grade": "excellent"
        },
        "summary": {
            "total_issues": 0,
            "critical_count": 0,
            "warning_count": 0,
            "info_count": 0
        },
        "suggestions": [
            {
                "id": "STR-001",
                "category": "structure",
                "priority": "critical",
                "title": "Missing H1 Heading",
                "description": "Add a clear H1 heading that describes the main topic of the page.",
                "example": "string",
                "impact": "high"
            }
        ],
        "metadata": {
            "source": "string",
            "content_type": "html",
            "analyzed_at": "2025-10-02T15:30:00Z",
            "processing_time": 0,
            "content_length": 0,
            "additional_fields": {}
        },
        "created_at": "2025-10-02T15:30:00Z",
        "eeat": {
            "experience": {
                "score": 0,
                "signals": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            },
            "expertise": {
                "score": 0,
                "author_info": true,
                "credentials": [
                    "string"
                ],
                "expert_quotes": 0,
                "missing": [
                    "string"
                ]
            },
            "authoritativeness": {
                "score": 0,
                "citations": 0,
                "external_links": 0,
                "source_quality": "high",
                "missing": [
                    "string"
                ]
            },
            "trustworthiness": {
                "score": 0,
                "contact_info": true,
                "about_page": true,
                "transparency_signals": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            },
            "overall_score": 0
        },
        "conversational_query": {
            "score": 0,
            "question_answer_pairs": [
                {
                    "question": "string",
                    "answer": "string",
                    "quality": "high"
                }
            ],
            "faq_detected": true,
            "natural_language_optimization": {
                "score": 0,
                "conversational_tone": true,
                "direct_answers": 0,
                "improvements": [
                    "string"
                ]
            },
            "voice_search_readiness": {
                "score": 0,
                "featured_snippet_potential": true,
                "concise_answers": 0,
                "improvements": [
                    "string"
                ]
            },
            "missing_questions": [
                "string"
            ]
        },
        "semantic_richness": {
            "score": 0,
            "topical_authority": {
                "score": 0,
                "main_topics": [
                    "string"
                ],
                "subtopic_coverage": [
                    "string"
                ],
                "depth": "comprehensive",
                "improvements": [
                    "string"
                ]
            },
            "semantic_keywords": {
                "score": 0,
                "primary_keywords": [
                    "string"
                ],
                "related_terms": [
                    "string"
                ],
                "semantic_gaps": [
                    "string"
                ]
            },
            "content_depth": {
                "score": 0,
                "word_count": 0,
                "reading_level": "Graduate",
                "technical_depth": "expert",
                "improvements": [
                    "string"
                ]
            },
            "entity_coverage": {
                "score": 0,
                "entities": [
                    "string"
                ],
                "relationships": [
                    "string"
                ],
                "missing": [
                    "string"
                ]
            }
        },
        "comparisons": [
            {
                "id": "550e8400-e29b-41d4-a716-446655440000",
                "name": "Competitor Inc",
                "source": "string",
                "score": {
                    "value": 75,
                    "grade": "excellent"
                },
                "insights": {
                    "strength_areas": [
                        "Well-structured content with clear headings",
                        "Comprehensive FAQ section"
                    ],
                    "weak_areas": [
                        "Title is too generic",
                        "Missing structured data"
                    ],
                    "opportunities": [
                        {
                            "title": "Add Schema.org markup",
                            "description": "Quick win to improve AI comprehension",
                            "impact": "high",
                            "effort": "easy",
                            "priority": 1
                        }
                    ],
                    "summary": "Competitor has strong content structure but lacks technical SEO elements"
                }
            }
        ]
    }
]`
  },
  {
    statusCode: "400",
    description: "Bad Request",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  }
]} />


---

## Test resource visibility in AI search

<MethodBadge method="POST" path="/shopify/aeo/visibility" />

Tests how visible a Shopify resource is in AI search results for given queries.
Returns relevance scores and recommendations for improving visibility.

**v1 Limitation**: Only supports resourceType='product'. Other resource types will
return a 400 Bad Request error.

Authentication: Requires Shopify session token via Authorization header.
The shop domain is extracted from the session token's 'dest' claim.


**Authentication required:** shopifySessionToken

### Request Body

**Example:**

```json
{
    "resource_type": "product",
    "resource_id": "123456789",
    "queries": [
        "What is organic coffee?",
        "Best coffee beans for espresso"
    ]
}
```

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X POST "https://searchaf.antfly.io/api/v1/shopify/aeo/visibility" \\\\
    -H "Authorization: Bearer YOUR_API_KEY" \\\\
    -H "Content-Type: application/json" \\\\
    -d '{
    "resource_type": "product",
    "resource_id": "123456789",
    "queries": [
        "What is organic coffee?",
        "Best coffee beans for espresso"
    ]
}'`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/visibility', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "resource_type": "product",
        "resource_id": "123456789",
        "queries": [
            "What is organic coffee?",
            "Best coffee beans for espresso"
        ]
    })
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/visibility', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "resource_type": "product",
        "resource_id": "123456789",
        "queries": [
            "What is organic coffee?",
            "Best coffee beans for espresso"
        ]
    })
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.post(
    'https://searchaf.antfly.io/api/v1/shopify/aeo/visibility',
    headers=headers,
    json={
        "resource_type": "product",
        "resource_id": "123456789",
        "queries": [
            "What is organic coffee?",
            "Best coffee beans for espresso"
        ]
    }
)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    body := []byte(\`{
    "resource_type": "product",
    "resource_id": "123456789",
    "queries": [
        "What is organic coffee?",
        "Best coffee beans for espresso"
    ]
}\`)
    req, _ := http.NewRequest("POST", "https://searchaf.antfly.io/api/v1/shopify/aeo/visibility", bytes.NewBuffer(body))
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Visibility test completed",
    body: `{
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "url": "string",
    "overall_score": 0,
    "queries": [
        {
            "query": "string",
            "found": true,
            "position": 0,
            "relevance_score": 0,
            "snippet": "string"
        }
    ],
    "recommendations": [
        "string"
    ],
    "tested_at": "2025-10-02T15:30:00Z"
}`
  },
  {
    statusCode: "400",
    description: "Bad request (invalid resource_type, unsupported in v1, or missing fields)",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "404",
    description: "Resource not found",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  }
]} />


---

## Get visibility test history

<MethodBadge method="GET" path="/shopify/aeo/visibility" />

Retrieves all visibility test results for the authenticated shop's resources.
Returns historical visibility tests ordered by most recent first.

Authentication: Requires Shopify session token via Authorization header.
The shop domain is extracted from the session token's 'dest' claim.


**Authentication required:** shopifySessionToken

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `limit` | integer | query | No | Maximum number of results to return |
| `offset` | integer | query | No | Number of results to skip for pagination |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/shopify/aeo/visibility?limit=value&offset=value" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/visibility?limit=value&offset=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/visibility?limit=value&offset=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/shopify/aeo/visibility?limit=value&offset=value', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/shopify/aeo/visibility?limit=value&offset=value", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Visibility test history retrieved successfully",
    body: `[
    {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "url": "string",
        "overall_score": 0,
        "queries": [
            {
                "query": "string",
                "found": true,
                "position": 0,
                "relevance_score": 0,
                "snippet": "string"
            }
        ],
        "recommendations": [
            "string"
        ],
        "tested_at": "2025-10-02T15:30:00Z"
    }
]`
  },
  {
    statusCode: "400",
    description: "Bad Request",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  }
]} />


---

## Publish AEO optimizations to Shopify

<MethodBadge method="POST" path="/shopify/aeo/publish" />

Applies saved optimization suggestions from a previous analysis to the Shopify resource
via the Shopify Admin GraphQL API. This endpoint:
1. Fetches the analysis and optimizations from aeo_shopify_analyses and aeo_shopify_optimizations
2. Applies optimized values (title, description, meta fields, etc.) to Shopify
3. Marks optimizations as applied (sets applied_at timestamp)

**v1 Implementation**: Updates product title, meta description, and SEO fields.
Future versions will support auto-applying all optimization types.

Authentication: Requires Shopify session token via Authorization header.
The shop domain is extracted from the session token's 'dest' claim.


**Authentication required:** shopifySessionToken

### Request Body

**Example:**

```json
{
    "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
    "fields": [
        "title",
        "meta_description"
    ]
}
```

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X POST "https://searchaf.antfly.io/api/v1/shopify/aeo/publish" \\\\
    -H "Authorization: Bearer YOUR_API_KEY" \\\\
    -H "Content-Type: application/json" \\\\
    -d '{
    "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
    "fields": [
        "title",
        "meta_description"
    ]
}'`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/publish', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
        "fields": [
            "title",
            "meta_description"
        ]
    })
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/shopify/aeo/publish', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
        "fields": [
            "title",
            "meta_description"
        ]
    })
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.post(
    'https://searchaf.antfly.io/api/v1/shopify/aeo/publish',
    headers=headers,
    json={
        "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
        "fields": [
            "title",
            "meta_description"
        ]
    }
)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    body := []byte(\`{
    "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
    "fields": [
        "title",
        "meta_description"
    ]
}\`)
    req, _ := http.NewRequest("POST", "https://searchaf.antfly.io/api/v1/shopify/aeo/publish", bytes.NewBuffer(body))
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Optimizations published successfully",
    body: `{
    "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
    "published_count": 3,
    "applied_fields": [
        "title",
        "meta_description",
        "seo_title"
    ],
    "shopify_resource_id": "gid://shopify/Product/123456789"
}`
  },
  {
    statusCode: "400",
    description: "Bad request (invalid analysis_id or no optimizations found)",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "404",
    description: "Analysis not found or already published",
    body: `{
    "type": "https://searchaf.antfly.io/errors/validation-error",
    "title": "Validation Error",
    "status": 400,
    "detail": "Email address is required",
    "instance": "https://searchaf.antfly.io/api/v1/users/550e8400-e29b-41d4-a716-446655440000",
    "errors": [
        {
            "field": "string",
            "message": "string"
        }
    ]
}`
  }
]} />


