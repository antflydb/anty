---
title: "Usage"
description: "Usage tracking and quotas"
---

# Usage

Usage tracking and quotas

## Get current usage

<MethodBadge method="GET" path="/organizations/{org_id}/usage" />

Get current billing cycle usage and quotas

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `org_id` | string | path | Yes | Organization ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Usage summary",
    body: `{
  "organization_id": "550e8400-e29b-41d4-a716-446655440000",
  "billing_cycle_start": "2025-10-02",
  "billing_cycle_end": "2025-10-02",
  "metrics": [
    {
      "metric_type": "search_query",
      "current": 5000,
      "limit": 10000,
      "remaining": 5000,
      "percentage": 50
    }
  ],
  "is_frozen": true,
  "frozen_reason": "Quota exceeded without billing configured"
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


---

## Get usage history

<MethodBadge method="GET" path="/organizations/{org_id}/usage/history" />

Get historical usage data by billing cycle

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `org_id` | string | path | Yes | Organization ID |
| `start_date` | string | query | No | Start date (YYYY-MM-DD) |
| `end_date` | string | query | No | End date (YYYY-MM-DD) |
| `offset` | integer | query | No | Number of items to skip |
| `limit` | integer | query | No | Maximum number of items to return |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage/history?start_date=value&end_date=value&offset=value&limit=value" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage/history?start_date=value&end_date=value&offset=value&limit=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage/history?start_date=value&end_date=value&offset=value&limit=value', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage/history?start_date=value&end_date=value&offset=value&limit=value', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/organizations/{org_id}/usage/history?start_date=value&end_date=value&offset=value&limit=value", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Usage history",
    body: `{
  "data": [
    {
      "billing_cycle": "2025-10-02",
      "metrics": [
        {
          "metric_type": "search_query",
          "total": 0
        }
      ]
    }
  ],
  "meta": {
    "offset": 0,
    "limit": 1,
    "total": 0
  }
}`
  },
  {
    statusCode: "400",
    description: "Bad Request",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


---

## Get project usage

<MethodBadge method="GET" path="/projects/{project_id}/usage" />

Get current billing cycle usage for specific project

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/projects/{project_id}/usage" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/usage', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/usage', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/projects/{project_id}/usage', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/projects/{project_id}/usage", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Project usage",
    body: `{
  "project_id": "550e8400-e29b-41d4-a716-446655440000",
  "organization_id": "550e8400-e29b-41d4-a716-446655440000",
  "billing_cycle_start": "2025-10-02",
  "billing_cycle_end": "2025-10-02",
  "metrics": [
    {
      "metric_type": "search_query",
      "current": 5000,
      "limit": 10000,
      "remaining": 5000,
      "percentage": 50
    }
  ]
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "402",
    description: "Response",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


