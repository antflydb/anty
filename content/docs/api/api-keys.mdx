---
title: "API Keys"
description: "Project API key management"
---

# API Keys

Project API key management

## List API keys

<MethodBadge method="GET" path="/projects/{project_id}/api-keys" />

List API keys for project

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "API keys list",
    body: `{
    "data": [
        {
            "id": "550e8400-e29b-41d4-a716-446655440000",
            "project_id": "550e8400-e29b-41d4-a716-446655440000",
            "key_type": "read_only",
            "key_prefix": "sk_live_",
            "name": "Production API Key",
            "created_at": "2025-10-02T15:30:00Z",
            "last_used_at": "2025-10-02T15:30:00Z",
            "expires_at": "2025-10-02T15:30:00Z",
            "status": "active"
        }
    ]
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


---

## Create API key

<MethodBadge method="POST" path="/projects/{project_id}/api-keys" />

Create new API key for project (requires project_admin role)

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |

### Request Body

**Example:**

```json
{
    "name": "string",
    "key_type": "read_only",
    "expires_at": "2025-10-02T15:30:00Z"
}
```

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X POST "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys" \\\\
    -H "Authorization: Bearer YOUR_API_KEY" \\\\
    -H "Content-Type: application/json" \\\\
    -d '{
    "name": "string",
    "key_type": "read_only",
    "expires_at": "2025-10-02T15:30:00Z"
}'`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "name": "string",
        "key_type": "read_only",
        "expires_at": "2025-10-02T15:30:00Z"
    })
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        "name": "string",
        "key_type": "read_only",
        "expires_at": "2025-10-02T15:30:00Z"
    })
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.post(
    'https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys',
    headers=headers,
    json={
        "name": "string",
        "key_type": "read_only",
        "expires_at": "2025-10-02T15:30:00Z"
    }
)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    body := []byte(\`{
    "name": "string",
    "key_type": "read_only",
    "expires_at": "2025-10-02T15:30:00Z"
}\`)
    req, _ := http.NewRequest("POST", "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys", bytes.NewBuffer(body))
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "201",
    description: "API key created",
    body: `{
    "api_key": {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "project_id": "550e8400-e29b-41d4-a716-446655440000",
        "key_type": "read_only",
        "key_prefix": "sk_live_",
        "name": "Production API Key",
        "created_at": "2025-10-02T15:30:00Z",
        "last_used_at": "2025-10-02T15:30:00Z",
        "expires_at": "2025-10-02T15:30:00Z",
        "status": "active"
    },
    "key": "sk_live_abcdef123456..."
}`
  },
  {
    statusCode: "400",
    description: "Bad Request",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


---

## Revoke API key

<MethodBadge method="DELETE" path="/projects/{project_id}/api-keys/{key_id}" />

Revoke API key (requires project_admin role)

### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |
| `key_id` | string | path | Yes | API Key ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X DELETE "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}', {
    method: 'DELETE',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}', {
    method: 'DELETE',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.delete('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("DELETE", "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "204",
    description: "API key revoked",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  }
]} />


---

## Rotate API key

<MethodBadge method="POST" path="/projects/{project_id}/api-keys/{key_id}/rotate" />

Atomically rotate an API key by revoking the old key and creating a new one
with the same name and type. This operation is transactional - both the revoke
and create succeed or both fail. Requires project_admin role.


### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |
| `key_id` | string | path | Yes | API Key ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X POST "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/rotate" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/rotate', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/rotate', {
    method: 'POST',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.post('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/rotate', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("POST", "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/rotate", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "API key rotated successfully",
    body: `{
    "old_key": {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "status": "revoked",
        "revoked_at": "2025-10-02T15:30:00Z"
    },
    "new_key": {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "project_id": "550e8400-e29b-41d4-a716-446655440000",
        "key_type": "read_only",
        "key_prefix": "sk_live_",
        "name": "Production API Key",
        "created_at": "2025-10-02T15:30:00Z",
        "last_used_at": "2025-10-02T15:30:00Z",
        "expires_at": "2025-10-02T15:30:00Z",
        "status": "active"
    },
    "key": "searchaf_a1b2c3d4_e5f6g7h8i9j0k1l2m3n4o5p6"
}`
  },
  {
    statusCode: "400",
    description: "Bad Request",
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  },
  {
    statusCode: "500",
    description: "Internal Server Error",
  }
]} />


---

## Decrypt API key

<MethodBadge method="GET" path="/projects/{project_id}/api-keys/{key_id}/decrypt" />

Retrieve the full decrypted API key. This endpoint returns the plaintext key
for copying or reference. Access is restricted to users with project access.


### Security

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer YOUR_API_KEY`

### Parameters

| Name | Type | Location | Required | Description |
|------|------|----------|----------|-------------|
| `project_id` | string | path | Yes | Project ID |
| `key_id` | string | path | Yes | API Key ID |

### Code Examples

<CodeTabs samples={[
  {
    language: "cURL",
    code: `curl -X GET "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/decrypt" \\\\
    -H "Authorization: Bearer YOUR_API_KEY"`
  },
  {
    language: "TypeScript",
    code: `const response = await fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/decrypt', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
});

const data = await response.json();`
  },
  {
    language: "JavaScript",
    code: `fetch('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/decrypt', {
    method: 'GET',
    headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
    }
})
    .then(response => response.json())
    .then(data => console.log(data));`
  },
  {
    language: "Python",
    code: `import requests

headers = {
    'Authorization': 'Bearer YOUR_API_KEY'
}

response = requests.get('https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/decrypt', headers=headers)

data = response.json()`
  },
  {
    language: "Go",
    code: `package main

import (
    "bytes"
    "encoding/json"
    "net/http"
)

func main() {
    req, _ := http.NewRequest("GET", "https://searchaf.antfly.io/api/v1/projects/{project_id}/api-keys/{key_id}/decrypt", nil)
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}`
  }
]} />

### Responses

<ResponseTabs responses={[
  {
    statusCode: "200",
    description: "Decrypted API key",
    body: `{
    "key": "searchaf_a1b2c3d4_e5f6g7h8i9j0k1l2m3n4o5p6"
}`
  },
  {
    statusCode: "401",
    description: "Unauthorized",
  },
  {
    statusCode: "403",
    description: "Forbidden",
  },
  {
    statusCode: "404",
    description: "Not Found",
  },
  {
    statusCode: "500",
    description: "Internal Server Error",
  }
]} />


